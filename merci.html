<script>
  function getParam(name) {
    const params = new URLSearchParams(window.location.search);
    return params.get(name) || "";
  }

  const prenom = decodeURIComponent(getParam('prenom'));
  const nom = decodeURIComponent(getParam('nom'));
  const tel = decodeURIComponent(getParam('tel'));
  const email = decodeURIComponent(getParam('email'));
  const pointure = decodeURIComponent(getParam('pointure'));
  const diabete = decodeURIComponent(getParam('diabete'));
  const pratiquesportive = decodeURIComponent(getParam('pratiquesportive'));
  const sportpratique = decodeURIComponent(getParam('sportpratique'));
  const dureehebdosport = decodeURIComponent(getParam('dureehebdosport'));

  // Construction du texte à encoder dans le QR code
  const qrContent = 
    `Nom: ${nom} | Prénom: ${prenom} | Téléphone: ${tel} | Email: ${email} | Pointure: ${pointure} | Diabète: ${diabete} | Pratique sportive: ${pratiquesportive} | Sport pratiqué: ${sportpratique} | Durée hebdomadaire sport: ${dureehebdosport}`;

  // Générer le QR code sur desktop
  if (document.getElementById('qr-container-desktop')) {
    new QRCode(document.getElementById("qr-container-desktop"), {
      text: qrContent,
      width: 180,
      height: 180,
      colorDark: "#ffffff",
      colorLight: "#010c58",
    });
  }

  // Générer le QR code sur mobile
  if (document.getElementById('qr-container-mobile')) {
    new QRCode(document.getElementById("qr-container-mobile"), {
      text: qrContent,
      width: 160,
      height: 160,
      colorDark: "#ffffff",
      colorLight: "#010c58",
    });
  }
</script>
